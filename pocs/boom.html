<!DOCTYPE html>
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>The page will be closed soon</title>
    
</head>
<body>

<div id="target">
<p>Hello Thanks for visiting, Javascripts loads text selection and please hold left click. The page will be closed automatically after 5 secs and texts selection </p>
<div>
<p onclick="selectText('target')" class="click-me"></p>


</body>
<script>
function selectText(node) {
    node = document.getElementById(node);

    if (document.body.createTextRange) {
        const range = document.body.createTextRange();
        range.moveToElementText(node);
        range.select();
    } else if (window.getSelection) {
        const selection = window.getSelection();
        const range = document.createRange();
        range.selectNodeContents(node);
        selection.removeAllRanges();
        selection.addRange(range);
    } else {
        console.warn("Could not select text in node: Unsupported browser.");
    }
}

  window.onload = function(){
      const clickable = document.querySelector('.click-me');
      setTimeout(() => {
        clickable.click();
      }, 500);
      setTimeout(() => {
          window.close();
      }, 5000);
      
  }


</script>
</html>
